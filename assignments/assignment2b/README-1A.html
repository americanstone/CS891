<html>

<title>Java Threads (Assignment 1 - Part A)</title>

<BODY text = "#000000"
link="#000fff"
vlink="#ff0f0f"
bgcolor="#ffffff">

<HR>
<h3>Java Threads (Assignment 1 - Part A)</h3>

<HR width=50% align=left>
<H4>Objectives and Overview of the Assignment</H4>

<P>The objectives of Part A of this assignment are to learn how to
create, start, and join Java threads.  Videos explaining the
structure, functionality, and usage of Java threads appear <A
HREF="https://www.youtube.com/watch?v=WxpjEXt7J0g&index=6&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3&t=15s">here</a>,
<A
HREF="https://www.youtube.com/watch?v=8Ij9Q4AGfgc&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3&index=7">here</a>,
and <A
HREF="https://www.youtube.com/watch?v=GdrXGs2Ipp4&index=8&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3">here</a>.
I recommend you watch these videos to ensure you understand how to
program Java threads.  Naturally, we'll cover these topics in class,
as well. </P>

<P>In this part of the assignment you will use the Java threads to
create a working Android app called PalantiriSimulator.  This app
contains a resource manager that restricts the number of beings from
Middle-Earth who can concurrently gaze into a fixed number of
palantiri.  If you're not yet a fan of Tolkien's Lord of the Ring's
trilogy, you can learn more about palantiri <A
HREF="http://en.wikipedia.org/wiki/Palantir">here</a>.</P>

<HR width=50% align=left>
<H4>Assignment Structure and Functionality</H4>

<P>The PalantiriSimulator app is packaged as a project using the
latest version of Android Studio.  This app is written in both Kotlin
and Java and demonstrates <EM>many</EM> Android capabilities.  For the
purposes of this assignment, however, you just need to focus on the
following directory at this point:</P>

<UL> 

<LI> <A HREF="
app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads/">app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads</A>,
which contains the skeleton(s) you'll need to fill in, as described <A
HREF="#description">below</A>.

</UL>

<P>To compile this code you need to use the provided Android Studio
project.  You can run this project by clicking the green "Run 'app'"
button in the Android Studio IDE, which should automatically select an
Android Emulator to run, assuming you have one created. The
application's minimum API is 26, so you will need to select an
emulator that uses an API >= 26. If you do not already have one
created you can create it by clicking on the "AVD Manager" button in
the Android Studio IDE.</>

<HR width=50% align=left>
<A name="description">
<H4>Program Description and "TODO" Tasks</H4>

<P>Nested within the <A HREF="app/src/main">app/src/main</A> directory
you'll find many folders and files, most of which you can ignore.  In
particular, this Android program is structured in accordance with the
<A HREF="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter">Model-View-Presenter</A>
(MVP) pattern.  Most classes are already provided for you.  The
relevant concurrent processing is performed in the Model layer.  If
you correctly complete the implementation of skeleton(s) in the Model
layer the app should successfully run to completion without throwing
any exceptions.</P>

<P>You'll need to modify several files containing the skeleton Java
code by completing the "TODO - You fill in here" tasks to provide a
working solution.  DO NOT CHANGE THE OVERALL STRUCTURE OF THE SKELETON
- just fill in the "TODO" tasks!!!  In particular, you'll need to
finish implementing the following "TODO" tasks for this assignment in
the <A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads">app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads</A>
folder: </P>

<UL>

<LI> <P><A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads/RunnableThreadsMgr.java">app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads/RunnableThreadsMgr.java</A>.
You'll need to complete the "TODO" tasks in (1) the
<CODE>newBeing()</CODE> method, which is a factory method that returns
a new SimpleBeingRunnableInstance, (2) the
<CODE>runSimulation()</CODE> method, which calls a method to
create/start a thread for each being, and then calls another method to
start a thread to wait for all the being threads to finished, and then
blocks until the waiter thread has finished, (3) the
<CODE>beginBeingThreads()</CODE> method, which creates/starts a list
of threads that represent the beings in this simulation, and (4) the
<CODE>waitForBeingThreads()</CODE> method, which starts a thread to
wait for all the being threads to finish and returns that thread to
the caller. </P>

<LI> <A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads/SimpleBeingRunnable.java">app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads/SimpleBeingRunnable.java</A>. You'll
need to complete the "TODO" tasks in (1) the
<CODE>acquirePalantirAndGaze()</CODE> method, which performs a single
gazing operation. <P>

<LI> <A HREF="app/src/test">app/src/test</A>, which contains a set of
unit tests that exercise many PalantiriSimulator features and can be
used to help test the functionality you implement for the
assignment. <P>

<LI> <A HREF="app/src/androidTest">app/src/androidTest</A>, which
contains an Android Studio instrumentation test that runs your app
automatically.  <P> </UL>

<P>Your app will be considered correct if it (1) passes all the unit
and instrumentation tests and (2) all beings successfully complete all
their N iterations. A correct simulation should restrict the number of
gazing beings to the number of palantiri.  In other words, if there
are four palantiri in the simulation, then only four beings should
ever be ``gazing'' on the screen at a time.</P>

<P>When the simulation is running, the app view will display visual
feedback to show palantiri and being states, as well as the progress
of their gazing iterations.  If your assignment implementation is
correct and does not throw any exceptions the app title bar labels
will appear green when the simulation completes. If the implementation
throws an exception or is not implemented correctly when the
simulation completes the red title bar labels will be displayed when
the simulation completes.</P>

<HR width=50% align=left>
<A NAME="gradwork">
<H4>Additional "TO DO" Tasks for Graduate Students</H4>

<P>Graduate students (or students who are taking this course for graduate
credit) must perform the following additional task(s):</P>

<UL>

<LI> Enhance the beginBeingThreads() method in <A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads/RunnableThreadsMgr.java">app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads/RunnableThreadsMgr.java</A>
to set an "UncaughtExceptionHandler" that calls the
BeingManager.error() to indicate an unexpected exception "ex" occurred
for thread "thr".

</UL>

<P>Undergraduates are welcome to implement these methods/features, but
it's not required.</P>

<HR width=50% align=left>
<H4>Skeleton Code</H4>

<P>Skeleton code for this assignment is available from my <A
HREF="https://github.com/douglascraigschmidt/CS891/tree/master/assignments/assignment1a/">GitHub</a>
account.  Once you've setup your <A
HREF="https://about.gitlab.com/">GitLab</a> account you can pull this
skeleton code in your repository, read it carefully, and complete the
"TODO" markers. The additional work required by graduate students is
clearly marked.</P>

<HR width=50% align=left>
<H4>Concluding Remarks</H4>

<P>This assignment is designed to help you get familiar with writing
multi-threaded programs using the Android Studio IDE and core Java
concurrency mechanisms.  It doesn't require you to program any Java
synchronization mechanisms (which we'll cover in the next part of this
assignment) or complex Java executor framework and Android
concurrency/communication frameworks (which we'll cover in upcoming
assignments).</P>

</body>
</html>
